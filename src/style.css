@import "tailwindcss";
@plugin '@tailwindcss/typography';

@theme {
  /* Add custom fonts here */
  /* Example: */
  /* --font-roboto-serif: "Roboto Serif", serif; */
}

/* Workarounds, fixes, and tweaks for @tailwindcss/typography */
:is(:where(.prose *)) {
  /* Fix kbd like this: Fix style of kbd like <kbd><kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>Delete</kbd></kbd> */
  &:is(:where(kbd):not(:where([class~="not-prose"], [class~="not-prose"] *))) {
    &:where(:has(> kbd)) {
      background-color: red;
    }
  }

  /* Delete the ::before and ::after content of the <blockquote> and remove the italics */
  &:is(
      :where(blockquote):not(
          :where([class~="not-prose"], [class~="not-prose"] *)
        )
    ) {
    @apply not-italic;
    > :is(:where(*:first-child))::before,
    > :is(:where(*:last-child))::after {
      @apply content-none;
    }
  }

  /* Fix for footnotes generated by remark-toc */
  &:is(
      :where(section.footnotes):not(
          :where([class~="not-prose"], [class~="not-prose"] *)
        )
    ) {
    @apply my-5;
    &:is(:where(&:first-child)) {
      @apply mt-0;
    }
    &:is(:where(&:last-child)) {
      @apply mb-0;
    }
    > :is(:where(ol)) {
      @apply my-0;
      > :is(:where(li)) {
        &:is(:where(&:first-child)) {
          @apply mt-0;
        }
        &:is(:where(&:last-child)) {
          @apply mb-0;
        }
        > :is(:where(*:first-child)) {
          @apply mt-0;
        }
        > :is(:where(*:last-child)) {
          @apply mb-0;
        }
      }
    }
  }
}
